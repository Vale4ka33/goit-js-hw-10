{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst startBtn = document.querySelector('[data-start]');\nconst input = document.querySelector('#datetime-picker');\nconst timer = document.querySelector('.timer');\nconst value = timer.querySelectorAll('.value');\n\n\nlet userSelectedDate;\nlet timerInterval;\nsetButtonState(\"disable\");\nsetBorder('#808080');\n\n// Функція для встановлення рамки коли таймер активний\nfunction setBorder(color) {\n    input.style.border = `1px solid ${color}`;\n}\n\n// Функція для встановлення стану кнопки\nfunction setButtonState(state) {\n    switch (state) {\n        case \"disable\":\n            startBtn.disabled = true;\n            startBtn.style.backgroundColor = \"\";\n            startBtn.style.color = \"\";\n            break;\n        case \"normal\":\n            startBtn.disabled = false;\n            startBtn.style.backgroundColor = \"#4E75FF\"; \n            startBtn.style.color = \"#fff\"; \n            break;\n        default:\n            break;\n    }\n}\n\n// Ініціалізація Flatpickr\nflatpickr(\"#datetime-picker\", {\n        enableTime: true,\n        time_24hr: true,\n        defaultDate: new Date(),\n        minuteIncrement: 1,\n        onClose(selectedDates) {\n            const selectedDate = selectedDates[0];\n            const currentDate = new Date();\n\n            if (selectedDate > currentDate) {\n                userSelectedDate = selectedDate;\n                startBtn.disabled = false;\n                setButtonState(\"normal\");\n                setBorder('#4E75FF');\n                \n            } else {\n                userSelectedDate = null;\n                startBtn.disabled = true;\n               iziToast.error({\n                    title: 'Error',\n                    message: 'Please choose a date in the future',\n                    messageColor: '#fff',\n                    titleColor: '#fff',\n                    backgroundColor: '#EF4040',\n               });\n                setBorder('#808080');\n            }\n        }\n});\n    \n\n// Додавання обробника події при натисканні на кнопку старт\nstartBtn.addEventListener('click', () => {\n    if (userSelectedDate) {\n        startBtn.disabled = true;\n        input.disabled = true;\n        timerInterval = setInterval(updateTimer, 1000);\n        setButtonState(\"disable\");\n    }\n})\n\n// Додавання обробника події для стану hover кнопки\nstartBtn.addEventListener('mouseenter', () => {\n    if (!startBtn.disabled) {\n        startBtn.style.backgroundColor = \"#6C8CFF\"; // \n    }\n});\n\n// Додавання обробника події для стану normal кнопки\nstartBtn.addEventListener('mouseleave', () => {\n    if (!startBtn.disabled) {\n        startBtn.style.backgroundColor = \"#4E75FF\"; // \n    }\n});\n\n\n// Функція для оновлення таймера\nfunction updateTimer() {\n    const currentTime = new Date().getTime();\n    const difference = userSelectedDate - currentTime;\n    \n    if (difference <= 0) {\n        clearInterval(timerInterval);\n        if (timer) {\n            value.forEach(number => {\n                number.textContent = \"00\";\n            });\n        }\n        setButtonState(\"disable\");\n        return;\n    }\n\n    const { days, hours, minutes, seconds } = convertMs(difference);\n\n    value[0].textContent = padZero(days);\n    value[1].textContent = padZero(hours);\n    value[2].textContent = padZero(minutes);\n    value[3].textContent = padZero(seconds);\n}\n\n// Функція для додавання нуля до чисел\nfunction padZero(num) {\n    return String(num).padStart(2, '0');\n}\n\n// Функція для перетворення мілісекунд в об'єкт з часом\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n\n\n\n\n"],"names":["startBtn","input","timer","value","userSelectedDate","timerInterval","setButtonState","setBorder","color","state","flatpickr","selectedDates","selectedDate","iziToast","updateTimer","currentTime","difference","number","days","hours","minutes","seconds","convertMs","padZero","num","ms"],"mappings":"+IAKA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAQD,EAAM,iBAAiB,QAAQ,EAG7C,IAAIE,EACAC,EACJC,EAAe,SAAS,EACxBC,EAAU,SAAS,EAGnB,SAASA,EAAUC,EAAO,CACtBP,EAAM,MAAM,OAAS,aAAaO,CAAK,EAC3C,CAGA,SAASF,EAAeG,EAAO,CAC3B,OAAQA,EAAK,CACT,IAAK,UACDT,EAAS,SAAW,GACpBA,EAAS,MAAM,gBAAkB,GACjCA,EAAS,MAAM,MAAQ,GACvB,MACJ,IAAK,SACDA,EAAS,SAAW,GACpBA,EAAS,MAAM,gBAAkB,UACjCA,EAAS,MAAM,MAAQ,OACvB,KAGP,CACL,CAGAU,EAAU,mBAAoB,CACtB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAeD,EAAc,CAAC,EAGhCC,EAFgB,IAAI,MAGpBR,EAAmBQ,EACnBZ,EAAS,SAAW,GACpBM,EAAe,QAAQ,EACvBC,EAAU,SAAS,IAGnBH,EAAmB,KACnBJ,EAAS,SAAW,GACrBa,EAAS,MAAM,CACV,MAAO,QACP,QAAS,qCACT,aAAc,OACd,WAAY,OACZ,gBAAiB,SACrC,CAAgB,EACAN,EAAU,SAAS,EAE1B,CACT,CAAC,EAIDP,EAAS,iBAAiB,QAAS,IAAM,CACjCI,IACAJ,EAAS,SAAW,GACpBC,EAAM,SAAW,GACjBI,EAAgB,YAAYS,EAAa,GAAI,EAC7CR,EAAe,SAAS,EAEhC,CAAC,EAGDN,EAAS,iBAAiB,aAAc,IAAM,CACrCA,EAAS,WACVA,EAAS,MAAM,gBAAkB,UAEzC,CAAC,EAGDA,EAAS,iBAAiB,aAAc,IAAM,CACrCA,EAAS,WACVA,EAAS,MAAM,gBAAkB,UAEzC,CAAC,EAID,SAASc,GAAc,CACnB,MAAMC,EAAc,IAAI,KAAM,EAAC,QAAO,EAChCC,EAAaZ,EAAmBW,EAEtC,GAAIC,GAAc,EAAG,CACjB,cAAcX,CAAa,EACvBH,GACAC,EAAM,QAAQc,GAAU,CACpBA,EAAO,YAAc,IACrC,CAAa,EAELX,EAAe,SAAS,EACxB,MACH,CAED,KAAM,CAAE,KAAAY,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAU,EAE9Db,EAAM,CAAC,EAAE,YAAcoB,EAAQL,CAAI,EACnCf,EAAM,CAAC,EAAE,YAAcoB,EAAQJ,CAAK,EACpChB,EAAM,CAAC,EAAE,YAAcoB,EAAQH,CAAO,EACtCjB,EAAM,CAAC,EAAE,YAAcoB,EAAQF,CAAO,CAC1C,CAGA,SAASE,EAAQC,EAAK,CAClB,OAAO,OAAOA,CAAG,EAAE,SAAS,EAAG,GAAG,CACtC,CAGA,SAASF,EAAUG,EAAI,CAMrB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAC1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EACpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EACjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}